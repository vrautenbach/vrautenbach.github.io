import{C as L,F as x,S as C,a as k,I,V,b as F,G as O,T as y,O as M,X as v,L as q,M as D,c as B,d as G,e as j,D as _,p as z,f as K}from"./vendor.6c4903e9.js";const N=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};N();var a=[],f=[],u=null;document.getElementById("info");function R(e){var t=new Blob([e],{type:"text/csv"}),r=document.createElement("a");r.download="SAJG_export.csv";var l=window.URL.createObjectURL(t);r.href=l,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}$(document).ready(function(){$("#search-input").on("keyup",function(){var e=$(this).val().toLowerCase();$("#info-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})});$(document).ready(()=>{document.querySelector("#search-input").value="",$("#search-input").toggle(),$("#clear-button").toggle(),$("#tableToCSV").toggle();let e=null;$("#search-input").on("keyup",()=>{clearTimeout(e),s.clear(),a=[];const t=$("#search-input").val().toLowerCase();t!==""&&h.getSource().forEachFeature(r=>{Object.values(r.values_).map(o=>{o!==null&&o.toString().toLowerCase().includes(t)&&s.push(r)})}),e=setTimeout(()=>{m(),b(),c()},1e3)})});$(document).on("click","#clear-button",function(){s.clear(),a=[],$("#info-table > tbody").html(""),c(),document.querySelector("#search-input").value=""});$(document).on("click","#tableToCSV",function(){for(var e=[],t=document.getElementsByTagName("tr"),r=0;r<t.length;r++){for(var l=t[r].querySelectorAll("td,th"),o=[],n=0;n<l.length;n++)o.push(l[n].innerHTML);e.push(o.join(","))}e=e.join(`
`),R(e)});const P=new L({radius:6,fill:new x({color:"#fc8d59"}),stroke:new C({color:"#f5f5f5",width:1.5})});new k({image:new I({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"data/pin-24.png"})});const U=new k({image:P}),h=new V({source:new F({url:"https://vrautenbach.github.io/SAJG_2021_v3.geojson",format:new O}),style:function(e){return U}}),Y=new y({title:"OpenStreetMap",type:"base",visible:!0,source:new M}),H=new y({title:"MapTiler Satellite Hybrid",type:"base",visible:!1,source:new v({url:"https://api.maptiler.com/maps/hybrid/256/{z}/{x}/{y}@2x.jpg?key=uBFqqVbfHTkiVSZLXuBJ"})}),J=new y({title:"ArcGIS Satellite",type:"base",visible:!1,source:new v({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),X=new y({title:"Stamen Terrain",type:"base",visible:!1,source:new v({url:"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"})}),Z=new q({title:"Basemaps",layers:[J,H,X,Y]}),i=new D({target:"map",layers:[Z,h],view:new B({center:[0,0],zoom:2})}),W=new G({reverse:!0,groupSelectStyle:"children"});i.addControl(W);function Q(e,t){for(var r="Doesn't exist",l=0;l<t.length;l++){var o=t[l];if(o==e){r="Exist";break}}return r}const A=new j;i.addInteraction(A);const s=A.getFeatures(),p=new _({condition:z});i.addInteraction(p);const m=()=>{for(var e=0;e<a.length;e++)u=a[e].ID,Q(u,f)=="Doesn't exist"&&$("#info-table > tbody:last-child").append("<tr><td>"+a[e].Title+"</td><td>"+a[e].Author+"</td><td>"+a[e].Keywords+"</td><td>"+a[e].Abstract+"</td><td>"+a[e].Vol+"</td><td>"+a[e].Year+'</td><td><a href="'+a[e].Link+'" target="_blank">'+a[e].Link+"</a></td></tr>"),f.push(u)},c=()=>{$("#info").toggle(),$("#myChart").toggle()},b=()=>{var e=a.map(t=>t.Keywords);e=e.toString().toLowerCase().replace(/[&\/\\#^+()$~%.'":;,*?<>{}!@]/g,""),oe(e)};p.on("boxend",function(){f=[],u=null;const e=i.getView().getRotation(),t=e%(Math.PI/2)!=0,r=t?[]:s,l=p.getGeometry().getExtent();if(h.getSource().forEachFeatureInExtent(l,function(o){r.push(o)}),t){const o=[0,0],n=p.getGeometry().clone();n.rotate(-e,o);const d=n.getExtent();r.forEach(function(w){const S=w.getGeometry().clone();S.rotate(-e,o),S.intersectsExtent(d)&&s.push(w)})}m(),b(),c(),document.querySelector("#search-input").value=""});p.on("boxstart",function(){s.clear(),a=[],$("#info-table > tbody").html(""),$("#info").is(":visible")&&c()});s.on(["add","remove"],function(){s.getArray().map(function(e){return a.push({Title:e.get("Title"),Author:e.get("Author"),Keywords:e.get("Keywords"),Abstract:e.get("Abstract"),Vol:e.get("Vol"),Year:e.get("Year"),Link:e.get("Link"),ID:e.get("ID")}),e.get("ID")})});i.on("click",e=>{s.clear(),a=[],$("#info").is(":visible")&&c(),i.forEachFeatureAtPixel(e.pixel,(t,r)=>{s.clear(),a=[],$("#info-table > tbody").html(""),$("#info").is(":visible")&&c(),f=[],u=null,s.push(t),m(),b(),c()}),document.querySelector("#search-input").value=""});const ee=document.querySelector("#select-all-btn");ee.addEventListener("click",()=>{s.clear(),a=[],h.getSource().forEachFeature(e=>{$("#info-table > tbody").html(""),$("#info").is(":visible")&&c(),f=[],u=null,s.push(e),m(),b(),c()}),document.querySelector("#search-input").value=""});let g=null;const te=document.querySelector("#info-table");i.on("pointermove",e=>{$("#info").is(":visible")&&(g!==null&&(E("white"),g=null),i.forEachFeatureAtPixel(e.pixel,t=>(g=t,!0)),g&&E("lightgrey"))});const E=e=>{for(const t of te.rows)for(const r of t.cells)g.get("Title")===r.innerHTML&&(t.style.backgroundColor=e)},T=new K("nominatim",{provider:"osm",lang:"en",placeholder:"Search for ...",limit:5,debug:!1,autoComplete:!0,keepOpen:!0,featureStyle:new L({radius:6,fill:new x({color:"#000000"}),stroke:new C({color:"#f5f5f5",width:1.5})})});i.addControl(T);T.on("addresschosen",function(e){console.info(e)});function oe(e){ZC.LICENSE=["569d52cefae586f634c54f86dc99e6a9","b55b025e438fa8a98e32482b5f768ff5"],zingchart.MODULESDIR="https://cdn.zingchart.com/modules/";var t={type:"wordcloud",backgroundColor:"#1F6B75",options:{text:e,minLength:3,maxItems:25,aspect:"spiral",colorType:"color",color:"#ffffff",style:{fontFamily:"Crete Round"}}};zingchart.render({id:"myChart",data:t,height:"200px",width:"100%"})}
//# sourceMappingURL=index.e519fa93.js.map
