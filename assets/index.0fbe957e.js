import{C as b,F as w,S as v,a as S,I,V as O,b as V,G as A,T as f,O as E,X as p,L as T,M as F,c as M,d as G,e as B,D,p as _,f as j}from"./vendor.d74bc171.js";const z=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}};z();var a=[];document.getElementById("info");function q(e){var r=new Blob([e],{type:"text/csv"}),o=document.createElement("a");o.download="SAJG_export.csv";var l=window.URL.createObjectURL(r);o.href=l,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}$(document).ready(function(){$("#search-input").on("keyup",function(){var e=$(this).val().toLowerCase();$("#info-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})});$(document).on("click","#clear-button",function(){i.clear(),a=[],console.log(a),$("#info-table > tbody").html(""),$("#info").toggle(),$("#search-input").toggle(),$("#clear-button").toggle(),$("#tableToCSV").toggle(),$("#myChart").toggle(),document.querySelector("#search-input").value=""});$(document).on("click","#tableToCSV",function(){for(var e=[],r=document.getElementsByTagName("tr"),o=0;o<r.length;o++){for(var l=r[o].querySelectorAll("td,th"),t=[],n=0;n<l.length;n++)t.push(l[n].innerHTML);e.push(t.join(","))}e=e.join(`
`),q(e)});const K=new b({radius:6,fill:new w({color:"#fc8d59"}),stroke:new v({color:"#f5f5f5",width:1.5})});new S({image:new I({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"data/pin-24.png"})});const N=new S({image:K}),L=new O({source:new V({url:"https://vrautenbach.github.io/SAJG_06October_2021_v2.geojson",format:new A}),style:function(e){return N}}),R=new f({title:"OpenStreetMap",type:"base",visible:!0,source:new E}),U=new f({title:"MapTiler Satellite Hybrid",type:"base",visible:!1,source:new p({url:"https://api.maptiler.com/maps/hybrid/256/{z}/{x}/{y}@2x.jpg?key=uBFqqVbfHTkiVSZLXuBJ"})}),Y=new f({title:"ArcGIS Satellite",type:"base",visible:!1,source:new p({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),J=new f({title:"Stamen Terrain",type:"base",visible:!1,source:new p({url:"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"})}),X=new T({title:"Basemaps",layers:[Y,U,J,R]}),d=new F({target:"map",layers:[X,L],view:new M({center:[0,0],zoom:2})}),H=new G({reverse:!0,groupSelectStyle:"children"});d.addControl(H);function P(e,r){for(var o="Doesn't exist",l=0;l<r.length;l++){var t=r[l];if(t==e){o="Exist";break}}return o}const x=new B;d.addInteraction(x);const i=x.getFeatures(),u=new D({condition:_});d.addInteraction(u);u.on("boxend",function(){var e=[],r=null;const o=d.getView().getRotation(),l=o%(Math.PI/2)!=0,t=l?[]:i,n=u.getGeometry().getExtent();if(L.getSource().forEachFeatureInExtent(n,function(c){t.push(c)}),l){const c=[0,0],y=u.getGeometry().clone();y.rotate(-o,c);const k=y.getExtent();t.forEach(function(m){const h=m.getGeometry().clone();h.rotate(-o,c),h.intersectsExtent(k)&&i.push(m)})}for(var s=0;s<a.length;s++)r=a[s].ID,P(r,e)=="Doesn't exist"&&$("#info-table > tbody:last-child").append("<tr><td>"+a[s].Title+"</td><td>"+a[s].Author+"</td><td>"+a[s].Keywords+"</td><td>"+a[s].Abstract+"</td><td>"+a[s].Vol+"</td><td>"+a[s].Year+'</td><td><a href="'+a[s].Link+'" target="_blank">'+a[s].Link+"</a></td></tr>"),e.push(r);$("#info").toggle(),$("#search-input").toggle(),$("#clear-button").toggle(),$("#tableToCSV").toggle();var g=a.map(c=>c.Keywords);g=g.toString().toLowerCase().replace(/[&\/\\#^+()$~%.'":;,*?<>{}!@]/g,""),Z(g),$("#myChart").toggle()});u.on("boxstart",function(){i.clear(),a=[],console.log(a),$("#info-table > tbody").html("")});i.on(["add","remove"],function(){i.getArray().map(function(e){return a.push({Title:e.get("Title"),Author:e.get("Author"),Keywords:e.get("Keywords"),Abstract:e.get("Abstract"),Vol:e.get("Vol"),Year:e.get("Year"),Link:e.get("Link"),ID:e.get("ObjectId")}),e.get("ObjectId")})});const C=new j("nominatim",{provider:"osm",lang:"en",placeholder:"Search for ...",limit:5,debug:!1,autoComplete:!0,keepOpen:!0,featureStyle:new b({radius:6,fill:new w({color:"#000000"}),stroke:new v({color:"#f5f5f5",width:1.5})})});d.addControl(C);C.on("addresschosen",function(e){console.info(e)});function Z(e){ZC.LICENSE=["569d52cefae586f634c54f86dc99e6a9","b55b025e438fa8a98e32482b5f768ff5"],zingchart.MODULESDIR="https://cdn.zingchart.com/modules/";var r={type:"wordcloud",backgroundColor:"#1F6B75",options:{text:e,minLength:3,maxItems:25,aspect:"spiral",colorType:"color",color:"#ffffff",style:{fontFamily:"Crete Round"}}};zingchart.render({id:"myChart",data:r,height:"200px",width:"100%"})}
//# sourceMappingURL=index.0fbe957e.js.map
