import{C as x,F as L,S as C,a as k,I as A,V,b as F,G as M,T as p,O,X as h,L as q,M as D,c as B,d as G,e as z,D as _,p as K,f as N}from"./vendor.6c4903e9.js";const R=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};R();var l=[],f=[],u=null;document.getElementById("info");function j(e){var t=new Blob([e],{type:"text/csv"}),r=document.createElement("a");r.download="SAJG_export.csv";var a=window.URL.createObjectURL(t);r.href=a,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}$(document).ready(function(){$("#search-input").on("keyup",function(){var e=$(this).val().toLowerCase();$("#info-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})});$(document).on("click","#clear-button",function(){i.clear(),l=[],$("#info-table > tbody").html(""),$("#info").toggle(),$("#search-input").toggle(),$("#clear-button").toggle(),$("#tableToCSV").toggle(),$("#myChart").toggle(),document.querySelector("#search-input").value=""});$(document).on("click","#tableToCSV",function(){for(var e=[],t=document.getElementsByTagName("tr"),r=0;r<t.length;r++){for(var a=t[r].querySelectorAll("td,th"),o=[],n=0;n<a.length;n++)o.push(a[n].innerHTML);e.push(o.join(","))}e=e.join(`
`),j(e)});const P=new x({radius:6,fill:new L({color:"#fc8d59"}),stroke:new C({color:"#f5f5f5",width:1.5})});new k({image:new A({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"data/pin-24.png"})});const U=new k({image:P}),m=new V({source:new F({url:"https://vrautenbach.github.io/SAJG_2021_v3.geojson",format:new M}),style:function(e){return U}}),Y=new p({title:"OpenStreetMap",type:"base",visible:!0,source:new O}),H=new p({title:"MapTiler Satellite Hybrid",type:"base",visible:!1,source:new h({url:"https://api.maptiler.com/maps/hybrid/256/{z}/{x}/{y}@2x.jpg?key=uBFqqVbfHTkiVSZLXuBJ"})}),J=new p({title:"ArcGIS Satellite",type:"base",visible:!1,source:new h({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),X=new p({title:"Stamen Terrain",type:"base",visible:!1,source:new h({url:"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"})}),Z=new q({title:"Basemaps",layers:[J,H,X,Y]}),s=new D({target:"map",layers:[Z,m],view:new B({center:[0,0],zoom:2})}),W=new G({reverse:!0,groupSelectStyle:"children"});s.addControl(W);function Q(e,t){for(var r="Doesn't exist",a=0;a<t.length;a++){var o=t[a];if(o==e){r="Exist";break}}return r}const E=new z;s.addInteraction(E);const i=E.getFeatures(),g=new _({condition:K});s.addInteraction(g);const b=()=>{for(var e=0;e<l.length;e++)u=l[e].ID,Q(u,f)=="Doesn't exist"&&$("#info-table > tbody:last-child").append("<tr><td>"+l[e].Title+"</td><td>"+l[e].Author+"</td><td>"+l[e].Keywords+"</td><td>"+l[e].Abstract+"</td><td>"+l[e].Vol+"</td><td>"+l[e].Year+'</td><td><a href="'+l[e].Link+'" target="_blank">'+l[e].Link+"</a></td></tr>"),f.push(u)},c=()=>{$("#info").toggle(),$("#search-input").toggle(),$("#clear-button").toggle(),$("#tableToCSV").toggle(),$("#myChart").toggle()},v=()=>{var e=l.map(t=>t.Keywords);e=e.toString().toLowerCase().replace(/[&\/\\#^+()$~%.'":;,*?<>{}!@]/g,""),oe(e)};g.on("boxend",function(){f=[],u=null;const e=s.getView().getRotation(),t=e%(Math.PI/2)!=0,r=t?[]:i,a=g.getGeometry().getExtent();if(m.getSource().forEachFeatureInExtent(a,function(o){r.push(o)}),t){const o=[0,0],n=g.getGeometry().clone();n.rotate(-e,o);const d=n.getExtent();r.forEach(function(w){const S=w.getGeometry().clone();S.rotate(-e,o),S.intersectsExtent(d)&&i.push(w)})}b(),v(),c(),document.querySelector("#search-input").value=""});g.on("boxstart",function(){i.clear(),l=[],$("#info-table > tbody").html(""),$("#info").is(":visible")&&c()});i.on(["add","remove"],function(){i.getArray().map(function(e){return l.push({Title:e.get("Title"),Author:e.get("Author"),Keywords:e.get("Keywords"),Abstract:e.get("Abstract"),Vol:e.get("Vol"),Year:e.get("Year"),Link:e.get("Link"),ID:e.get("ID")}),e.get("ID")})});s.on("click",e=>{i.clear(),l=[],$("#info").is(":visible")&&c(),s.forEachFeatureAtPixel(e.pixel,(t,r)=>{i.clear(),l=[],$("#info-table > tbody").html(""),$("#info").is(":visible")&&c(),f=[],u=null,i.push(t),b(),v(),c()}),document.querySelector("#search-input").value=""});const ee=document.querySelector("#select-all-btn");ee.addEventListener("click",()=>{i.clear(),l=[],m.getSource().forEachFeature(e=>{$("#info-table > tbody").html(""),$("#info").is(":visible")&&c(),f=[],u=null,i.push(e),b(),v(),c()}),document.querySelector("#search-input").value=""});let y=null;const te=document.querySelector("#info-table");s.on("pointermove",e=>{$("#info").is(":visible")&&(y!==null&&(I("white"),y=null),s.forEachFeatureAtPixel(e.pixel,t=>(y=t,!0)),y&&I("lightgrey"))});const I=e=>{for(const t of te.rows)for(const r of t.cells)y.get("Title")===r.innerHTML&&(t.style.backgroundColor=e)},T=new N("nominatim",{provider:"osm",lang:"en",placeholder:"Search for ...",limit:5,debug:!1,autoComplete:!0,keepOpen:!0,featureStyle:new x({radius:6,fill:new L({color:"#000000"}),stroke:new C({color:"#f5f5f5",width:1.5})})});s.addControl(T);T.on("addresschosen",function(e){console.info(e)});function oe(e){ZC.LICENSE=["569d52cefae586f634c54f86dc99e6a9","b55b025e438fa8a98e32482b5f768ff5"],zingchart.MODULESDIR="https://cdn.zingchart.com/modules/";var t={type:"wordcloud",backgroundColor:"#1F6B75",options:{text:e,minLength:3,maxItems:25,aspect:"spiral",colorType:"color",color:"#ffffff",style:{fontFamily:"Crete Round"}}};zingchart.render({id:"myChart",data:t,height:"200px",width:"100%"})}
//# sourceMappingURL=index.e502e021.js.map
